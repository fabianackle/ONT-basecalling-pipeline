singularity {
    enabled = true
    runOptions = '--nv'
}

conda {
    enabled = true
    useMamba = true
}

process {
    cpus = 8
    shell = ['/bin/bash', '-euo', 'pipefail']
}

profiles {
    cluster {
        process.clusterOptions = '--gpus=A100:2'
        process.executor = 'slurm'
        process.time = { 30.min * params.gigabases }
        singularity.cacheDir = '/data/user/'
    }
}